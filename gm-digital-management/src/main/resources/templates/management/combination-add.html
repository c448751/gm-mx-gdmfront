<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Combination</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

    <link rel="stylesheet" th:href="@{/css/estilos.css}">

    <style>
        body { background-color: #edf4f9; }
    </style>
</head>

<body>

<!-- HEADER -->
<div th:replace="~{fragments/header :: navbar}"></div>

<div class="container mt-4 page_name">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="fw-bold">Add Combination</h3>

        <a href="/management" class="btn btn-secondary">
            ← Back
        </a>
    </div>

    <!-- FORM -->
    <div class="card shadow-sm border-0 search-card">
        <div class="search-title">NEW COMBINATION</div>

        <div class="card-body">

            <!-- SUCCESS MESSAGE -->
            <div th:if="${saved}" class="alert alert-success">
                Combination saved successfully ✔
            </div>

            <!-- ERROR MESSAGE -->
            <div th:if="${error}" class="alert alert-danger">
                [[${error}]]
            </div>

            <form method="post" th:action="@{/management/combination/save}">

                <div class="row g-3">

                    <!-- REGION -->
                    <div class="col-md-4">
                        <label class="form-label">Division</label>
                        <select class="form-select" name="regionId" required>
                            <option value="">Select</option>
                            <option th:each="r : ${regions}"
                                    th:value="${r.idRegion}"
                                    th:text="${r.nameRegion}">
                            </option>
                        </select>
                    </div>

                    <!-- BRAND -->
                    <div class="col-md-4">
                        <label class="form-label">Brand</label>
                        <select class="form-select" name="brandId" required>
                            <option value="">Select</option>
                            <option th:each="b : ${brands}"
                                    th:value="${b.idBrand}"
                                    th:text="${b.nameBrand}">
                            </option>
                        </select>
                    </div>

                    <!-- TYPE -->
                    <div class="col-md-4">
                        <label class="form-label">Vehicle Type</label>
                        <select class="form-select" name="typeId" required>
                            <option value="">Select</option>
                            <option th:each="t : ${types}"
                                    th:value="${t.idType}"
                                    th:text="${t.typeName}">
                            </option>
                        </select>
                    </div>

                    <!-- MODEL -->
                    <div class="col-md-4">
                        <label class="form-label">Model</label>
                        <select class="form-select" name="modelId" required>
                            <option value="">Select</option>
                            <option th:each="m : ${models}"
                                    th:value="${m.idModel}"
                                    th:text="${m.modelName}">
                            </option>
                        </select>
                    </div>

                </div>

                <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-primary px-4">
                        Save
                    </button>
                </div>

            </form>

        </div>
    </div>

</div>

</body>
</html>
